# Plugga CLI

Ett vertyg som hjälper till att sätta upp och köra rättningsbara uppgifter.

## Utveckla CLI'n

Kör `npm install` för att installera nödvändiga moduler. I det här projektet finns det inga skript att köra, istället testas ändringar med `npm link`.

Hur ett arbetsflöde kan se ut:

1. Kör `npm install`.
2. Gör önskade ändringar i koden.
3. Kör `npm link` i projektet (behöver bara göras en gång).
4. Öppna ett annat projekt som använder CLI'n eller istallera det (se [Använda CLI'n](#använda-clin)) och kör `plugga`.
5. Öppna en PR på ändringarna.
6. Vertyget byggs automatiskt till ett npm-paket när koden når `main` grenen.

## Använda CLI'n

För att installera CLI'n i ett projekt som ska bli en automaträttad inlämning så kör du bara `npm i @plugga-tech/plugga-cli`.

När paketet är installerat kan det sedan köras med `npx plugga` eller utan _npx_ om det körs som ett skript ifrån package.json filen.

Om du utvecklar CLI'n och har kört `npm link` så räcker det att sedan köra `plugga` i terminalen.

Kom ihåg att det behövs en `.npmrc` fil för att få lov att ladda hem våra privata paket:

```
@plugga-tech:registry=https://npm.pkg.github.com
//npm.pkg.github.com/:_authToken=<AUTH_TOKEN_WITH_READ_ACCESS_TO_PACKAGES>
```

## Visionen

I framtiden skulle vi kunna bygga ut CLI'n så den kan användas direkt av studenter också, ex med kommandon som `plugga login`, `plugga whoami`, `plugga install <assignment>`, `plugga link`, etc.

## Utmaningar

CLI'n kan köra följande kommandon _cypress_, _start-server-and-test_ och _vitest_ utan att säkerställa att paketen har installerats av användaren. CLI'n borde i de fall där paketen saknas föreslå att installera dom först.
